<div class="detail-wrapper">
  <div *ngIf="loading" class="status-message">Loading movie details...</div>

  <div *ngIf="movie && !loading" class="content-container">
    <button class="back-navigation" (click)="goBack()">
      &larr; Back to {{ backRoute === '/watchlist' ? 'Watchlist' : 'Dashboard' }}
    </button>

    <div class="movie-detail-card">
      <div class="poster-container">
        <img [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path" [alt]="movie.title">
      </div>

      <div class="info-container">
        <h1>{{ movie.title }}</h1>
        <p class="movie-meta">
          Released: {{ movie.release_date | date:'MMMM d, yyyy' }} | 
          Rating: {{ movie.vote_average | number:'1.1-1' }}/10
        </p>
        
        <div class="streaming-section" *ngIf="watchProviders.length > 0">
          <p class="streaming-label">CLICK AN ICON TO VIEW STREAMING OPTIONS:</p>
          <div class="provider-logos">
            <a *ngFor="let provider of watchProviders" 
               [href]="providerLink" 
               target="_blank" 
               class="provider-icon">
              <img [src]="'https://image.tmdb.org/t/p/original' + provider.logo_path" 
                   [title]="'View options for ' + provider.provider_name">
            </a>
          </div>
        </div>

        <div class="overview-section">
          <p>{{ movie.overview }}</p>
        </div>

        <div class="button-group">
          <button class="btn-secondary" (click)="getTickets()">üéüÔ∏è Showtimes</button>
          <button class="btn-primary" (click)="addToWatchlist()">+ Add to Watchlist</button>
        </div>
      </div>
    </div>
  </div>
</div>
